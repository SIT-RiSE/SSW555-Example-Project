{% extends "base.html" %}

{% block title %}Recipe Assistant â€¢ Student Starter Pack{% endblock %}

{% block content %}
<div class="page-header">
    <h2>Recipe Assistant</h2>
    <p>Store and organize your favorite recipes</p>
</div>

<div class="module-note">
    <h3>Kitchen-only module</h3>
    <p>Clip just this recipe vault into meal-planning courses or clubs. Clearing the other app folders keeps the footprint light.</p>
</div>

<div class="content-section">
    <div class="form-section">
        <h3>Add New Recipe</h3>
        <form method="POST" action="/recipe-assistant">
            <div class="form-group">
                <label for="recipe-name">Recipe Name:</label>
                <input type="text" id="recipe-name" name="name" placeholder="e.g., Spaghetti Carbonara" required>
            </div>
            <div class="form-group">
                <label for="ingredients">Ingredients:</label>
                <textarea id="ingredients" name="ingredients" rows="4" placeholder="List ingredients, one per line" required></textarea>
            </div>
            <div class="form-group">
                <label for="instructions">Instructions:</label>
                <textarea id="instructions" name="instructions" rows="5" placeholder="Step-by-step instructions" required></textarea>
            </div>
            <div class="form-group">
                <label for="prep-time">Prep Time (minutes):</label>
                <input type="number" id="prep-time" name="prep_time" placeholder="30">
            </div>
            <button type="submit" class="btn btn-primary">Save Recipe</button>
        </form>
    </div>

    <div class="list-section">
        <h3>Your Recipes</h3>
        {% if recipes %}
            <ul class="entry-list recipe-list">
                {% for recipe in recipes %}
                <li>
                    <div class="entry-header">
                        <span class="entry-title">{{ recipe.name }}</span>
                        <span class="entry-meta">Saved {{ recipe.created_at.strftime('%b %d, %Y') }}</span>
                    </div>
                    <div class="recipe-body">
                        {% if recipe.prep_time is not none %}
                            <p class="recipe-meta">Prep time: {{ recipe.prep_time }} minutes</p>
                        {% endif %}
                        <div class="recipe-columns">
                            <div>
                                <h4>Ingredients</h4>
                                <ul class="inline-list">
                                    {% for item in recipe.ingredients.splitlines() if item.strip() %}
                                    <li>{{ item }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                            <div>
                                <h4>Instructions</h4>
                                <p>{{ recipe.instructions }}</p>
                            </div>
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="placeholder-text">Collect your favorite dishes here and build a shareable cookbook.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
